var pbjs=pbjs||{};pbjs.que=pbjs.que||[];
!function e$$0(n,b,h){function k(u,m){if(!b[u]){if(!n[u]){var g="function"==typeof require&&require;if(!m&&g)return g(u,!0);if(r)return r(u,!0);throw Error("Cannot find module '"+u+"'");}g=b[u]={exports:{}};n[u][0].call(g.exports,function(b){var c=n[u][1][b];return k(c?c:b)},g,g.exports,e$$0,n,b,h)}return b[u].exports}for(var r="function"==typeof require&&require,t=0;t<h.length;t++)k(h[t]);return k}({1:[function(a,n,b){n=a("./adapters/rubicon.js");var h=a("./adapters/appnexus.js"),k=a("./adapters/aol"),
r=a("./adapters/openx"),t=a("./adapters/pubmatic.js"),u=a("./adapters/criteo"),m=a("./adapters/yieldbot"),g=a("./adapters/indexExchange"),d=a("./adapters/sovrn"),c=a("./adapters/pulsepoint.js"),e=a("./bidmanager.js"),f=a("./utils.js"),v=a("./constants.json"),l=a("./events"),q={};b.bidderRegistry=q;b.callBids=function(a){for(var c=0;c<a.length;c++){var b=a[c];if(b.bidderCode&&q[b.bidderCode]){f.logMessage("CALLING BIDDER ======= "+b.bidderCode);var d=q[b.bidderCode];l.emit(v.EVENTS.BID_REQUESTED,b);
d.callBids(b);void 0===e.getExpectedBidsCount(b.bidderCode)&&e.setExpectedBidsCount(b.bidderCode,b.bids.length);var g=(new Date).getTime();e.registerBidRequestTime(b.bidderCode,g);d.defaultBidderSettings&&e.registerDefaultBidderSetting(b.bidderCode,d.defaultBidderSettings)}else f.logError("Adapter trying to be called which does not exist: "+b.bidderCode,"adaptermanager.callBids")}};b.registerBidAdapter=function(e,a){e&&a?typeof e.callBids===v.objectType_function?q[a]=e:f.logError("Bidder adaptor error for bidder code: "+
a+"bidder must implement a callBids() function"):f.logError("bidAdaptor or bidderCode not specified")};b.aliasBidAdapter=function(e,a){if(typeof q[a]===v.objectType_undefined){var c=q[e];if(typeof c===v.objectType_undefined)f.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var b=c.createNew();b.setBidderCode(a);this.registerBidAdapter(b,a)}catch(l){f.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else f.logMessage('alias name "'+
a+'" has been already specified.')};this.registerBidAdapter(n(),"rubicon");this.registerBidAdapter(h.createNew(),"appnexus");this.registerBidAdapter(r(),"openx");this.registerBidAdapter(t(),"pubmatic");this.registerBidAdapter(u(),"criteo");this.registerBidAdapter(m(),"yieldbot");this.registerBidAdapter(g(),"indexExchange");this.registerBidAdapter(d(),"sovrn");this.registerBidAdapter(k(),"aol");this.registerBidAdapter(c(),"pulsepoint")},{"./adapters/aol":3,"./adapters/appnexus.js":4,"./adapters/criteo":5,
"./adapters/indexExchange":6,"./adapters/openx":7,"./adapters/pubmatic.js":8,"./adapters/pulsepoint.js":9,"./adapters/rubicon.js":10,"./adapters/sovrn":11,"./adapters/yieldbot":12,"./bidmanager.js":15,"./constants.json":16,"./events":17,"./utils.js":20}],2:[function(a,n,b){function h(a){var b=a;return{callBids:function(){},setBidderCode:function(a){b=a},getBidderCode:function(){return b}}}b.createNew=function(a){return new h(a)}},{}],3:[function(a,n,b){var h=a("../utils.js"),k=a("../bidfactory.js"),
r=a("../bidmanager.js"),t=a("../adloader");n.exports=function(){function a(f,c){var b=v[c.alias||c.placement];if(!b)return void h.logError("mismatched bid: "+c.placement,e,c);var l=k.createBid(2);l.bidderCode=e;l.reason=f.getNbr();l.raw=f.getResponse();r.addBidResponse(b.placementCode,l)}function b(){return window.ADTECH?void h._each(g,function(a){v[a.params.placement]=a;var e=a.params.adContainerId,c=l.createElement("DIV");a={adContainerId:(e&&e.length||(e="ad-placeholder-"+ ++n),c.id=e+"-head-unit",
q.appendChild(c),c.id),server:a.params.server,sizeid:a.params.sizeId||0,pageid:a.params.pageId,secure:!1,serviceType:"pubapi",performScreenDetection:!1,alias:a.params.alias||(a.placementCode||"alias").replace(d,"")+ ++w,network:a.params.network,placement:parseInt(a.params.placement),gpt:{adUnitPath:a.params.adUnitPath||a.placementCode,size:a.params.size||(a.sizes||[])[0]},params:{cors:"yes",cmd:"bid"},pubApiConfig:f,placementCode:a.placementCode};window.ADTECH.loadAd(a)}):void h.logError("window.ADTECH is not present!",
e)}var g,d=/\W/g,c=window.location.protocol+"//aka-cdn.adtechus.com/dt/common/DAC.js",e="aol",f={pixelsDivId:"pixelsDiv",defaultKey:"aolBid",roundingConfig:[{from:0,to:999,roundFunction:"tenCentsRound"},{from:1E3,to:-1,roundValue:1E3}],pubApiOK:function(f,c){var b,l=v[c.placement];if(!l)return void h.logError("mismatched bid: "+c.placement,e,c);if(b=f.getCPM(),null===b||isNaN(b))return a(f,c);var d=k.createBid(1);d.bidderCode=e;d.ad=f.getCreative()+f.getPixels();d.cpm=b;d.width=f.getAdWidth();d.height=
f.getAdHeight();d.creativeId=f.getCreativeId();r.addBidResponse(l.placementCode,d)},pubApiER:a},v={},l=window.document,q=l.getElementsByTagName("HEAD")[0],w=0,n=0;return{callBids:function(a){(g=a.bids)&&g.length&&t.loadScript(c,b)}}}},{"../adloader":13,"../bidfactory.js":14,"../bidmanager.js":15,"../utils.js":20}],4:[function(a,n,b){var h=a("../constants.json"),k=a("../utils.js"),r=a("../adloader.js"),t=a("../bidmanager.js"),u=a("../bidfactory.js"),m=a("./adapter.js"),g=function(){function a(e){return"https://secure.adnxs.com/imptr?id="+
e+"&t=2"}function c(a,e){var f=k.getBidIdParamater("placementId",a.params),c=k.getBidIdParamater("memberId",a.params),b=k.getBidIdParamater("invCode",a.params),d=k.getBidIdParamater("query",a.params),g=k.getBidIdParamater("referrer",a.params),v=k.getBidIdParamater("alt_referrer",a.params),h="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?"),h=k.tryAppendQueryString(h,"callback","pbjs.handleAnCB"),h=k.tryAppendQueryString(h,"callback_uid",e),h=k.tryAppendQueryString(h,
"psa","0"),h=k.tryAppendQueryString(h,"id",f),h=k.tryAppendQueryString(h,"member_id",c),h=k.tryAppendQueryString(h,"code",b);(f=k.parseSizesInput(a.sizes))&&(h+=f+"&");(d=k.parseQueryStringParameters(d))&&(h+=d);d=k.extend({},a.params);delete d.placementId;delete d.memberId;delete d.invCode;delete d.query;delete d.referrer;delete d.alt_referrer;d=k.parseQueryStringParameters(d);return d&&(h+=d),""===g&&(g=k.getTopWindowUrl()),h=k.tryAppendQueryString(h,"referrer",g),h=k.tryAppendQueryString(h,"alt_referrer",
v),h.lastIndexOf("&")===h.length-1&&(h=h.substring(0,h.length-1)),a.startTime=(new Date).getTime(),h}var e=m.createNew("appnexus"),f=[];f[100]=a(21139);f[200]=a(21140);f[300]=a(21141);f[400]=a(21142);f[500]=a(21143);f[600]=a(21144);f[700]=a(21145);f[800]=a(21146);f[1E3]=a(21147);f[1300]=a(21148);f[1600]=a(21149);f[2E3]=a(21150);f[5E3]=a(21151);f[1E4]=a(21152);var g=a(21154);a(21153);return e.callBids=function(a){var f=e.getBidderCode();a=a.bids;var b=a.length;t.setExpectedBidsCount(f,b);for(f=0;b>
f;f++){var d=a[f],g=k.getUniqueIdentifierStr();r.loadScript(c(d,g));t.pbCallbackMap[g]=d}},pbjs.handleAnCB=function(a){var e;if(a&&a.callback_uid){var c,b="",d=t.getPlacementIdByCBIdentifer(a.callback_uid);if(d){e=d.bidder;b=d.placementCode;d.status=h.STATUS.GOOD;try{var p=d.startTime,m=(new Date).getTime(),d=b;if(p&&m){var p=m-p,m=!1,n="";for(c in f)if(c>=p){m=!0;n=f[c];r.trackPixel(n);break}m||(n=g,r.trackPixel(n));k.logMessage("latency for placement code : "+d+" : "+p+" ms. Tracking URL Fired : "+
n)}}catch(H){}}d=[];a.result&&a.result.cpm&&0!==a.result.cpm?(c=parseInt(a.result.cpm,10),c/=1E4,p=(a.result.ad,a.result.creative_id),d=u.createBid(1),d.creative_id=p,d.bidderCode=e,d.cpm=c,d.adUrl=a.result.ad,d.width=a.result.width,d.height=a.result.height,d.dealId=a.result.deal_id):(d=u.createBid(2),d.bidderCode=e);t.addBidResponse(b,d)}},{callBids:e.callBids,setBidderCode:e.setBidderCode,createNew:b.createNew,buildJPTCall:c}};b.createNew=function(){return new g}},{"../adloader.js":13,"../bidfactory.js":14,
"../bidmanager.js":15,"../constants.json":16,"../utils.js":20,"./adapter.js":2}],5:[function(a,n,b){var h=(a("../constants.json"),a("../utils.js"),a("../bidfactory.js")),k=a("../bidmanager.js"),r=a("../adloader");n.exports=function(){function a(b){var d,c={},e=[];b.forEach(function(a){c[a.params.nid]=a});for(d in c)c.hasOwnProperty(d)&&e.push(c[d]);return e}function b(a){var d=a.params.varname,c="//rtax.criteo.com/delivery/rta/rta.js?netId="+encodeURI(a.params.nid)+"&cookieName="+encodeURI(a.params.cookiename)+
"&rnd="+Math.floor(99999999999*Math.random())+"&varName="+encodeURI(d);r.loadScript(c,function(e){var f,c=window[d];m.forEach(function(e){e.params.nid===a.params.nid&&(c?(f=h.createBid(1),f.bidderCode="criteo",f.keys=c.split(";")):(f=h.createBid(2),f.bidderCode="criteo"),k.addBidResponse(e.placementCode,f))})})}var m;return{callBids:function(g){m=g.bids||[];a(m).forEach(b)}}}},{"../adloader":13,"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],6:[function(a,n,b){var h=
(a("../constants.json"),a("../utils.js")),k=a("../bidfactory.js"),r=a("../bidmanager.js"),t=a("../adloader.js"),u=!0,m=function(){};window.cygnus_index_args={};var g=[[728,90],[120,600],[300,250],[160,600],[336,280],[234,60],[300,600],[300,50],[320,50],[970,250],[300,1050],[970,90],[180,150]],d=function(){function a(e){var f=d[e];return"string"==typeof f?f:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function e(e){return b.lastIndex=0,b.test(e)?e.replace(b,a):e}function f(a,e,f){if(this.initialized=
!1,"number"!=typeof a||0!==a%1||0>a)throw"Invalid Site ID";if("number"==typeof f&&0===f%1&&0<=f&&(this.timeoutDelay=f),this.siteID=a,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof e){if("function"!=typeof e)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}_IndexRequestData.requestCounter="undefined"==typeof _IndexRequestData.requestCounter?
Math.floor(256*Math.random()):(_IndexRequestData.requestCounter+1)%256;this.requestID=String((new Date).getTime()%2592E3*256+_IndexRequestData.requestCounter+256);this.initialized=!0}cygnus_index_args.parseFn=m;var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};f.prototype.serialize=function(){var a='{"id":'+this.requestID+',"site":{"page":"'+
e(this.sitePage)+'"';"string"==typeof document.referrer&&(a+=',"ref":"'+e(document.referrer)+'"');for(var a=a+'},"imp":[',f=0;f<this.impressions.length;f++){var c=this.impressions[f],b=[],a=a+('{"id":"'+c.id+'", "banner":{"w":'+c.w+',"h":'+c.h+',"topframe":'+String(this.topframe)+"}");"number"==typeof c.bidfloor&&(a+=',"bidfloor":'+c.bidfloor,"string"==typeof c.bidfloorcur&&(a+=',"bidfloorcur":"'+e(c.bidfloorcur)+'"'));"string"!=typeof c.slotID||c.slotID.match(/^\s*$/)||b.push('"sid":"'+e(c.slotID)+
'"');"number"==typeof c.siteID&&b.push('"siteID":'+c.siteID);0<b.length&&(a+=',"ext": {'+b.join()+"}");a+=f+1==this.impressions.length?"}":"},"}return a+"]}"};f.prototype.setPageOverride=function(a){return"string"!=typeof a||a.match(/^\s*$/)?!1:(this.sitePage=a,!0)};f.prototype.addImpression=function(a,e,f,c,b,d){var g={id:String(this.impressions.length+1)};if("number"!=typeof a||1>=a||"number"!=typeof e||1>=e||(("string"==typeof b||"number"==typeof b)&&50>=String(b).length&&(g.slotID=String(b)),
g.w=a,g.h=e,void 0!==f&&"number"!=typeof f))return null;if("number"==typeof f){if(0>f||(g.bidfloor=f,void 0!==c&&"string"!=typeof c))return null;g.bidfloorcur=c}if("undefined"!=typeof d){if(!("number"==typeof d&&0===d%1&&0<=d))return null;g.siteID=d}return this.impressions.push(g),g.id};f.prototype.buildRequest=function(){if(0!==this.impressions.length&&!0===this.initialized){var a=encodeURIComponent(this.serialize()),e="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";
return e+="/headertag?v=9&x3=1&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+a,"number"==typeof this.timeoutDelay&&0===this.timeoutDelay%1&&0<=this.timeoutDelay&&(e+="&t="+this.timeoutDelay),e}};try{if("undefined"!=typeof cygnus_index_args&&"undefined"!=typeof cygnus_index_args.siteID&&"undefined"!=typeof cygnus_index_args.slots){"undefined"==typeof _IndexRequestData&&(_IndexRequestData={},_IndexRequestData.impIDToSlotID={},_IndexRequestData.reqOptions={});var g=new f(cygnus_index_args.siteID,cygnus_index_args.parseFn,
cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&g.setPageOverride(cygnus_index_args.url);_IndexRequestData.impIDToSlotID[g.requestID]={};_IndexRequestData.reqOptions[g.requestID]={};for(var h,k,u=0;u<cygnus_index_args.slots.length;u++)h=cygnus_index_args.slots[u],(k=g.addImpression(h.width,h.height,h.bidfloor,h.bidfloorcur,h.id,h.siteID))&&(_IndexRequestData.impIDToSlotID[g.requestID][k]=String(h.id));return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[g.requestID].targetMode=
cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[g.requestID].callback=cygnus_index_args.callback),g.buildRequest()}}catch(p){}};n.exports=function(){function a(e,f){var c={};return h._each(e.slots,function(a){a.id===f&&(c=a)}),c}function e(){var a=k.createBid(2);a.bidderCode="indexExchange";r.addBidResponse(l,a)}var f={},b=["id","siteID"],l="";return{callBids:function(q){q=q.bids;if(h.hasValidBidRequest(q[0].params,b,"INDEXEXCHANGE")){cygnus_index_args.slots=
[];var m=0;for(i=0;i<q.length;i++){var n,x,p=q[i],z=0;a:for(;z<p.sizes.length;z++)for(var A=0;A<g.length;A++)if(p.sizes[z][0]===g[A][0]&&p.sizes[z][1]===g[A][1]){n=p.sizes[z][0];x=p.sizes[z][1];break a}if(p.params.timeout&&"undefined"==typeof cygnus_index_args.timeout&&(cygnus_index_args.timeout=p.params.timeout),p.params.siteID&&"undefined"==typeof cygnus_index_args.siteID&&(cygnus_index_args.siteID=p.params.siteID),p.params.sqps&&"undefined"==typeof cygnus_index_args.SQPS&&cygnus_index_args.slots.push({id:"SPQS",
width:p.params.sqps.width,height:p.params.sqps.height,siteID:p.params.sqps.siteID||cygnus_index_args.siteID}),h.hasValidBidRequest(p.params,b,"INDEXEXCHANGE"))l=p.placementCode,f[p.params[b[0]]]=p,u&&(cygnus_index_args.slots.push({id:p.params.id,width:n,height:x,siteID:p.params.siteID||cygnus_index_args.siteID}),m++,p.params.tier2SiteID&&cygnus_index_args.slots.push({id:"T1_"+p.params.id,width:n,height:x,siteID:p.params.tier2SiteID}),p.params.tier3SiteID&&cygnus_index_args.slots.push({id:"T2_"+p.params.id,
width:n,height:x,siteID:p.params.tier3SiteID}));r.setExpectedBidsCount("indexExchange",m)}u=!1;t.loadScript(d());window.cygnus_index_ready_state=function(){try{var b=_IndexRequestData.targetIDToBid;cygnus_index_args;if(h.isEmpty(b))return k.createBid(2).bidderCode="indexExchange",void e();h._each(b,function(e,b){h._each(f,function(d,g){var l=b.split("_"),h=l[1];if(l[0]===g){var l=f[g].placementCode,I=a(cygnus_index_args,g);d=k.createBid(1);d.cpm=h/100;d.ad=e[0];d.ad_id=g;d.bidderCode="indexExchange";
d.width=I.width;d.height=I.height;d.siteID=I.siteID;r.addBidResponse(l,d)}})})}catch(d){h.logError("Error calling index adapter","INDEXEXCHANGE",d),e()}}}}}}},{"../adloader.js":13,"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],7:[function(a,n,b){var h=(a("../constants.json"),a("../utils.js"),a("../bidfactory.js")),k=a("../bidmanager.js"),r=a("../adloader");n.exports=function(a){function b(){m&&r.loadScript(m,function(){var a,e=OX();e.setPageURL(d.pageURL);e.setRefererURL(d.refererURL);
e.addPage(d.pgid);for(a=0;a<g.length;a++)e.addAdUnit(g[a].params.unit);e.addHook(function(a){var e,c,b,d;for(e=0;e<g.length;e++)c=g[e],b=a.getOrCreateAdUnit(c.params.unit),b.get("pub_rev")?(d=d=h.createBid(1),d.bidderCode="openx",d.ad_id=b.get("ad_id"),d.cpm=Number(b.get("pub_rev"))/1E3,d.ad=b.get("html"),d.adUrl=b.get("ad_url"),d.width=b.get("width"),d.height=b.get("height"),k.addBidResponse(c.placementCode,d)):(d=h.createBid(2),d.bidderCode="openx",k.addBidResponse(c.placementCode,d))},OX.Hooks.ON_AD_RESPONSE);
e.load()})}var m,g,d=a||{};return{callBids:function(a){g=a.bids||[];for(a=0;a<g.length;a++){var e=g[a];e.params.pageURL&&(d.pageURL=e.params.pageURL);e.params.refererURL&&(d.refererURL=e.params.refererURL);e.params.jstag_url&&(m=e.params.jstag_url);e.params.pgid&&(d.pgid=e.params.pgid)}b()}}}},{"../adloader":13,"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],8:[function(a,n,b){var h=(a("../constants.json"),a("../utils.js")),k=a("../bidfactory.js"),r=a("../bidmanager.js");
a=(a("../adloader"),function(){function a(){var b;b='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;\x3c/script></head><body><script>';b+='window.pm_pub_id  = "%%PM_PUB_ID%%";window.pm_optimize_adslots     = [%%PM_OPTIMIZE_ADSLOTS%%];';b+="\x3c/script>";var c={};return c.PM_PUB_ID=m,c.PM_OPTIMIZE_ADSLOTS=g.map(function(a){return"'"+a+"'"}).join(","),b+='<script src="//ads.pubmatic.com/AdServer/js/gshowad.js">\x3c/script>',
b+="<script>",b+="window.parent.pbjs.handlePubmaticCallback({progKeyValueMap: progKeyValueMap, bidDetailsMap: bidDetailsMap})",b+="\x3c/script>",b+="</body></html>",b=h.replaceTokenInString(b,c,"%%")}var b,m,g=[];return pbjs.handlePubmaticCallback=function(a){var c,e,f,g,l=a&&a.bidDetailsMap||{},h=a&&a.progKeyValueMap||{};for(a=0;a<b.length;a++){var m;f=b[a].params;c=l[f.adSlot]||{};e=(h[f.adSlot]||"").split(";").reduce(function(a,e){var b=e.split("=");return a[b[0]]=b[1],a},{});"1"===e.bidstatus?
(g=e.bidid.split("@")[1].split("x"),m=k.createBid(1),m.bidderCode="pubmatic",m.adSlot=f.adSlot,m.cpm=Number(e.bid),m.ad=unescape(c.creative_tag),m.adUrl=unescape(c.tracking_url),m.width=g[0],m.height=g[1],m.dealId=e.wdeal,r.addBidResponse(b[a].placementCode,m)):(m=k.createBid(2),m.bidderCode="pubmatic",r.addBidResponse(b[a].placementCode,m))}},{callBids:function(d){b=d.bids;for(d=0;d<b.length;d++){var c=b[d];r.pbCallbackMap[""+c.params.adSlot]=c;m=m||c.params.publisherId;g.push(c.params.adSlot)}window.pm_pub_id=
m;window.pm_optimize_adslots=g;d=h.createInvisibleIframe();c=document.getElementsByTagName("head")[0];c.insertBefore(d,c.firstChild);d=d.contentWindow.document;d.write(a());d.close()}}});n.exports=a},{"../adloader":13,"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],9:[function(a,n,b){var h=a("../bidfactory.js"),k=a("../bidmanager.js"),r=a("../adloader.js");n.exports=function(){function a(g){g=g.bids;for(var d=0;d<g.length;d++){var c=g[d],e=b(c);(new window.pp.Ad({cf:c.params.cf,
cp:c.params.cp,ct:c.params.ct,cn:1,ca:window.pp.requestActions.BID,cu:m,adUnitId:c.placementCode,callback:e})).display()}}function b(a){return function(b){if(b){var c=a.params.cf.toUpperCase().split("X"),e=h.createBid(1);e.bidderCode=a.bidder;e.cpm=b.bidCpm;e.ad=b.html;e.width=c[0];e.height=c[1];k.addBidResponse(a.placementCode,e)}else b=h.createBid(2),b.bidderCode=a.bidder,k.addBidResponse(a.placementCode,b)}}var m="http://tag.contextweb.com/bid";return{callBids:function(b){"undefined"==typeof window.pp?
r.loadScript("http://tag.contextweb.com/getjs.static.js",function(){a(b)}):a(b)}}}},{"../adloader.js":13,"../bidfactory.js":14,"../bidmanager.js":15}],10:[function(a,n,b){var h=a("../constants.json"),k=a("../utils.js"),r=a("../bidfactory.js"),t=a("../bidmanager.js");n.exports=function(){function a(b){return(b.params?[b.params.rp_account,b.params.rp_site,b.params.rp_zonesize]:[b.account_id,b.site_id,b.zone_id,b.size_id]).join("-")}var b={};return window.pbjs=window.pbjs||{que:[]},window.pbjs.handleRubiconCallback=
function(g){var d="",c={};if(g&&"ok"===g.status)try{var e="",f=t.getPlacementIdByCBIdentifer(a(g));if(f&&(d=f.placementCode,f.status=h.STATUS.GOOD,e=f.iframeId),g.ads&&g.ads[0]&&"ok"===g.ads[0].status){var c=r.createBid(1),v,l=g.ads[0],q=b[l.size_id],f=g=0,n=window.frames[e];if(v=n.contentWindow?n.contentWindow.RubiconAdServing:n.window.RubiconAdServing,v&&v.AdSizes){var q=v.AdSizes[l.size_id],y=q.dim.split("x");g=y[0];f=y[1]}c.cpm=l.cpm;c.ad="<script>"+l.script+"\x3c/script>";c.ad_id=l.ad_id;c.bidderCode=
"rubicon";c.sizeId=l.size_id;c.width=g;c.height=f}else c=r.createBid(2),c.bidderCode="rubicon",(f=t.getPlacementIdByCBIdentifer(a(g)))&&(d=f.placementCode)}catch(x){k.logError("Error parsing rubicon response bid: "+x.message)}else c=r.createBid(2),c.bidderCode="rubicon",(f=t.getPlacementIdByCBIdentifer(a(g)))&&(d=f.placementCode);t.addBidResponse(d,c)},{callBids:function(g){g=g.bids;for(var d=0;d<g.length;d++){var c=g[d],e=c,f=c.sizes[0][0],h=c.sizes[0][1];b[e.params.rp_zonesize.split("-")[1]]={width:f,
height:h};var l='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;\x3c/script></head>',l=l+"<body>",l=l+"<script>",l=l+'window.rp_account  = "%%RP_ACCOUNT%%";window.rp_site     = "%%RP_SITE%%";window.rp_zonesize = "%%RP_ZONESIZE%%";window.rp_tracking = "%%RP_TRACKING%%";window.rp_visitor =  %%RP_VISITOR%%;window.rp_width =  %%RP_WIDTH%%;window.rp_height =  %%RP_HEIGHT%%;window.rp_adtype   = "jsonp";window.rp_inventory = %%RP_INVENTORY%% ;window.rp_floor=%%RP_FLOOR%%;window.rp_fastlane = true;window.rp_callback = window.parent.pbjs.handleRubiconCallback;',
q={},e=(q.RP_ACCOUNT=e.params.rp_account,q.RP_SITE=e.params.rp_site,q.RP_ZONESIZE=e.params.rp_zonesize,q.RP_TRACKING=e.params.rp_tracking?e.params.rp_tracking:"",q.RP_VISITOR=e.params.rp_visitor?e.params.rp_visitor:"{}",q.RP_WIDTH=f,q.RP_HEIGHT=h,q.RP_INVENTORY=e.params.rp_inventory||"{}",q.RP_FLOOR=e.params.rp_floor?e.params.rp_floor:"0.00",l+="\x3c/script>",l+='<script src="http://ads.rubiconproject.com/ad/%%RP_ACCOUNT%%.js">\x3c/script>',l+="</body></html>",k.replaceTokenInString(l,q,"%%")),l=
k.createInvisibleIframe(),f=document.getElementsByTagName("head")[0];f.insertBefore(l,f.firstChild);f=l.contentWindow.document;l=(f.write(e),f.close(),l.id);c.iframeId=l;t.pbCallbackMap[a(c)]=c}}}}},{"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],11:[function(a,n,b){var h=a("../constants.json"),k=a("../utils.js"),r=a("../bidfactory.js"),t=a("../bidmanager.js"),u=a("../adloader"),m="";n.exports=function(){function a(e){var b,c={},d=[];e.forEach(function(a){c[k.getBidIdParamater("tagid",
a.params)]=a});for(b in c)c.hasOwnProperty(b)&&d.push(c[b]);return d}function b(a){var f=window.location.host,d=window.location.pathname+location.search+location.hash,g=[];m=a[0].placementCode;k._each(a,function(a){var e=k.getBidIdParamater("tagid",a.params),b=k.getBidIdParamater("bidfloor",a.params),f=0,c=0;2===a.sizes.length&&"number"==typeof a.sizes[0]&&"number"==typeof a.sizes[1]?(f=a.sizes[0],c=a.sizes[1]):(f=a.sizes[0][0],c=a.sizes[0][1]);imp={id:k.getUniqueIdentifierStr(),banner:{w:f,h:c},
tagid:e,bidfloor:b};g.push(imp);t.pbCallbackMap[imp.id]=a});a={id:k.getUniqueIdentifierStr(),imp:g,site:{domain:f,page:d}};a="//"+c+"?callback=window.pbjs.sovrnResponse&br="+encodeURIComponent(JSON.stringify(a));u.loadScript(a,null)}var c="ap.lijit.com/rtb/bid";return pbjs.sovrnResponse=function(a){var b={};a&&a.id&&a.seatbid&&0!==a.seatbid.length&&a.seatbid[0].bid&&0!==a.seatbid[0].bid.length?a.seatbid[0].bid.forEach(function(a){var e,c="",d=t.getPlacementIdByCBIdentifer(a.impid);if(d)if(c=d.placementCode,
d.status=h.STATUS.GOOD,e=parseFloat(a.price),0!==e){a.placementCode=c;a.size=d.sizes;var g=a.adm,m='<img src="'+a.nurl+'">';b=r.createBid(1);b.creative_id=a.Id;b.bidderCode="sovrn";b.cpm=e;b.ad=decodeURIComponent(g+m);2===d.sizes.length&&"number"==typeof d.sizes[0]&&"number"==typeof d.sizes[1]?(b.width=d.sizes[0],b.height=d.sizes[1]):(b.width=d.sizes[0][0],b.height=d.sizes[0][1])}else b=r.createBid(2),b.bidderCode="sovrn";else b=r.createBid(2),b.bidderCode="sovrn";t.addBidResponse(c,b)}):(b=r.createBid(2),
b.bidderCode="sovrn",t.addBidResponse(m,b))},{callBids:function(e){b(a(e.bids||[]))}}}},{"../adloader":13,"../bidfactory.js":14,"../bidmanager.js":15,"../constants.json":16,"../utils.js":20}],12:[function(a,n,b){var h=a("../adloader"),k=a("../bidfactory"),r=a("../bidmanager"),t=a("../utils");n.exports=function(){window.ybotq=window.ybotq||[];var a={BID_STATUS:{PENDING:0,AVAILABLE:1,EMPTY:2},definedSlots:[],pageLevelOption:!1,buildCreative:function(a,b){return'<script type="text/javascript" src="//cdn.yldbt.com/js/yieldbot.intent.js">\x3c/script><script type="text/javascript">var ybotq = ybotq || [];ybotq.push(function () {yieldbot.renderAd(\''+
a+":"+b+"');});\x3c/script>"},buildBid:function(b){var g={};if(b&&b.ybot_ad&&"n"!==b.ybot_ad){g=k.createBid(a.BID_STATUS.AVAILABLE);g.cpm=parseInt(b.ybot_cpm)/100||0;var d=b.ybot_size?b.ybot_size.split("x"):[0,0],c=b.ybot_slot||"",e=b.ybot_size||"";g.width=d[0]||0;g.height=d[1]||0;g.ad=a.buildCreative(c,e);for(var f in b)g[f]=b[f]}else g=k.createBid(a.BID_STATUS.EMPTY);return g.bidderCode="yieldbot",g},callBids:function(b){var g=b.bids||[];b=window.ybotq||[];a.pageLevelOption=!1;b.push(function(){var b=
window.yieldbot;t._each(g,function(c){var e=c.params&&c.params.slot||"ERROR_DEFINE_YB_SLOT";b.pub(c.params&&c.params.psn||"ERROR_DEFINE_YB_PSN");b.defineSlot(e,{sizes:c.sizes||[]});e=t.getUniqueIdentifierStr();r.pbCallbackMap[e]=c;a.definedSlots.push(e)});b.enableAsync();b.go()});b.push(function(){a.handleUpdateState()});h.loadScript("//cdn.yldbt.com/js/yieldbot.intent.js")},handleUpdateState:function(){var b=window.yieldbot;t._each(a.definedSlots,function(g){var d;d=r.getPlacementIdByCBIdentifer(g)||
{};g=b.getSlotCriteria(d.params.slot||"");d=d.placementCode||"ERROR_YB_NO_PLACEMENT";g=a.buildBid(g);r.addBidResponse(d,g)})}};return{callBids:a.callBids}}},{"../adloader":13,"../bidfactory":14,"../bidmanager":15,"../utils":20}],13:[function(a,n,b){var h=a("./utils");b.loadScript=function(a,b){if(!a)return void h.logError("Error attempting to request empty URL","adloader.js:loadScript");var n=document.createElement("script");n.type="text/javascript";n.async=!0;b&&"function"==typeof b&&(n.readyState?
n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,b())}:n.onload=function(){b()});n.src=a;var u=document.getElementsByTagName("head"),u=u.length?u:document.getElementsByTagName("body");u.length&&(u=u[0],u.insertBefore(n,u.firstChild))};b.trackPixel=function(a){try{if(a+="&rnd="+Math.random())document.createElement("img").src=a}catch(b){}}},{"./utils":20}],14:[function(a,n,b){function h(a){var b=k.getUniqueIdentifierStr(),h=a||0;this.bidderCode=
"";this.height=this.width=0;this.statusMessage=function(){switch(h){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}();this.adId=b;this.getStatusCode=function(){return h};this.getSize=function(){return this.width+"x"+this.height}}var k=a("./utils.js");b.createBid=function(a){return new h(a)}},{"./utils.js":20}],15:[function(a,n,b){function h(a){typeof y[a]===c?y[a]=1:y[a]++}function k(a,b,e){b=b[m.JSON_MAPPING.ADSERVER_TARGETING];
return e.size=e.getSize(),g._each(b,function(b){var c=b.key;b=b.val;if(g.isFn(b))try{a[c]=b(e)}catch(f){g.logError("bidmanager","ERROR",f)}else a[c]=b}),a}function r(a,b){var e;if(g.isArray(a))for(e=0;e<a.length;e++)t(a[e],b);else t(a,b)}function t(a,b){if("function"==typeof a)try{a.apply(pbjs,b)}catch(e){g.logError("Error executing callback function: "+e.message)}}function u(){var a=!0;return g._each(y,function(b,e){var f=x[e];(typeof f===c||f>b)&&(a=!1)}),a}var m=a("./constants.json"),g=a("./utils.js"),
d=(a("./adaptermanager"),a("./events")),c="undefined",e=[],f=[],v=null,l={};b.pbCallbackMap=l;var q={};b.pbBidResponseByPlacement=q;var w={};b._adResponsesByBidderId=w;var y={};b.bidResponseReceivedCount=y;var x={},p=!1,z=!1,A={},H={};b.getPlacementIdByCBIdentifer=function(a){return l[a]};b.getBidResponseByAdUnit=function(a){return q};b.clearAllBidResponses=function(a){z=p=!1;y={};for(a=0;a<pbjs.adUnits.length;a++)for(var b=pbjs.adUnits[a].bids,e=0;e<b.length;e++)y[b[e].bidder]=0;x={};f.called=!1;
for(var c in this.pbBidResponseByPlacement)delete this.pbBidResponseByPlacement[c]};b.getTimedOutBidders=function(){var a=[];return g._each(y,function(b,e){0===b&&a.push(e)}),a};b.increaseBidResponseReceivedCount=function(a){h(a)};b.setExpectedBidsCount=function(a,b){x[a]=b};b.getExpectedBidsCount=function(a){return x[a]};b.addBidResponse=function(a,b){var e={};if(b){b.requestTimestamp=H[b.bidderCode];b.responseTimestamp=(new Date).getTime();b.timeToRespond=b.responseTimestamp-b.requestTimestamp;
h(b.bidderCode);2===b.getStatusCode()&&(b.cpm=0);d.emit(m.EVENTS.BID_ADJUSTMENT,b);d.emit(m.EVENTS.BID_RESPONSE,a,b);var c=g.getPriceBucketString(b.cpm,b.height,b.width);b.pbLg=c.low;b.pbMg=c.med;b.pbHg=c.high;b.adUnitCode=a;b.bidder=b.bidderCode;c={};b.bidderCode&&0!==b.cpm&&(c=this.getKeyValueTargetingPairs(b.bidderCode,b),b.adserverTargeting=c);b.adId&&(w[b.adId]=b);a&&q[a]?(e=q[a],e.bids.push(b),e.bidsReceivedCount++):g.logError("Internal error in bidmanager.addBidResponse. Params: "+a+" & "+
b)}else e=this.createEmptyBidResponseObj();q[a]=e;this.checkIfAllBidsAreIn(a)};b.createEmptyBidResponseObj=function(){return{bids:[],allBidsAvailable:!1,bidsReceivedCount:0}};b.getKeyValueTargetingPairs=function(a,b){var e={},c=pbjs.bidderSettings||{};return a&&b&&c&&c[a]&&c[a][m.JSON_MAPPING.ADSERVER_TARGETING]?(k(e,c[a],b),b.alwaysUseBid=c[a].alwaysUseBid):A[a]?(k(e,A[a],b),b.alwaysUseBid=A[a].alwaysUseBid):b&&c&&(c[m.JSON_MAPPING.BD_SETTING_STANDARD]||(c[m.JSON_MAPPING.BD_SETTING_STANDARD]={adserverTargeting:[{key:"hb_bidder",
val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",val:function(a){return a.pbMg}},{key:"hb_size",val:function(a){return a.size}}]}),k(e,c[m.JSON_MAPPING.BD_SETTING_STANDARD],b)),e};b.registerDefaultBidderSetting=function(a,b){A[a]=b};b.registerBidRequestTime=function(a,b){H[a]=b};b.executeCallback=function(){if("function"===typeof pbjs.registerBidCallbackHandler&&!z)try{pbjs.registerBidCallbackHandler(),z=!0}catch(a){z=!0,g.logError("Exception trying to execute callback handler registered : "+
a.message)}if(!0!==f.called){var b=[];r(f,b);f.called=!0}if(v){var b=[],e=pbjs.getBidResponses();b.push(e);r(v,b);v=null}};b.allBidsBack=function(){return p};b.setBidderMap=function(a){};b.checkIfAllBidsAreIn=function(a){p=u();for(var b=0;b<pbjs.adUnits.length;b++){var c=pbjs.adUnits[b];c.code===a&&q[a].bidsReceivedCount===c.bids.length&&r(e,[a])}p&&this.executeCallback()};b.addOneTimeCallback=function(a){v=a};b.addCallback=function(a,b,c){b.id=a;m.CB.TYPE.ALL_BIDS_BACK===c?f.push(b):m.CB.TYPE.AD_UNIT_BIDS_BACK===
c&&e.push(b)};d.on(m.EVENTS.BID_ADJUSTMENT,function(a){var b=a.bidderCode,e=a.cpm;if(b&&pbjs.bidderSettings&&pbjs.bidderSettings[b]&&"function"===typeof pbjs.bidderSettings[b].bidCpmAdjustment)try{e=pbjs.bidderSettings[b].bidCpmAdjustment.call(null,a.cpm)}catch(c){g.logError("Error during bid adjustment","bidmanager.js",c)}0!==e&&(a.cpm=e)})},{"./adaptermanager":1,"./constants.json":16,"./events":17,"./utils.js":20}],16:[function(a,n,b){n.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",
BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:"good",TIMEOUT:"timed out"},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack"}},objectType_function:"function",objectType_undefined:"undefined",objectType_object:"object",objectType_string:"string",objectType_number:"number",EVENTS:{BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",
BID_RESPONSE:"bidResponse",BID_WON:"bidWon"}}},{}],17:[function(a,n,b){var h=a("./utils");a=a("./constants");var k=Array.prototype.slice,r=h._map(a.EVENTS,function(a){return a}),t=[];n.exports=function(){function a(d,c){h.logMessage("Emitting event for: "+d);t.push({eventType:d,args:c});h._each(b[d],function(a){if(a)try{a.apply(null,c)}catch(b){h.logError("Error executing handler:","events.js",b)}})}var b={},g={};return g.on=function(a,c){h.contains(r,a)?(b[a]=b[a]||[],b[a].push(c)):h.logError("Wrong event name : "+
a+" Valid event names :"+r)},g.emit=function(b){var c=k.call(arguments,1);a(b,c)},g.off=function(a,c,e){h.isEmpty(b[a])||h._each(b[a],function(a){null===a[c]||void 0===a[c]||"undefined"!=typeof e&&a[c]!==e||(a[c]=null)})},g.get=function(){return b},g.getEvents=function(){var a=[];return h._each(t,function(b){b=h.extend({},b);a.push(b)}),a},g}()},{"./constants":16,"./utils":20}],18:[function(a,n,b){function h(a,b){var d=0;if(d=typeof a===z||null===a?c.bidderTimeout:a,!c.adUnits||0===c.adUnits.length)return void f.logMessage("No adUnits configured. No bids requested.");
if(setTimeout(v.executeCallback,d),b&&f.isArray(b))for(d=0;d<b.length;d++)for(var g=0;g<c.adUnits.length;g++)c.adUnits[g].code===b[d]&&C.push(c.adUnits[g]);else C=c.adUnits;for(d=0;d<C.length;d++){for(var g=C[d][e.JSON_MAPPING.PL_CODE],l=C[d][e.JSON_MAPPING.PL_CODE],h=C[d][e.JSON_MAPPING.PL_SIZE],n=C[d][e.JSON_MAPPING.PL_BIDS],k=0;k<n.length;k++){var m=n[k];m.placementCode=l;m.sizes=h;var q=n[k][e.JSON_MAPPING.BD_BIDDER],p=F[q];typeof p===z?(p={bidderCode:q,bids:[]},p.bids.push(m),F[q]=p):p.bids.push(m)}v.addBidResponse(g)}for(d=
0;d<L.length;d++)L[d].loadPreBid();v.setBidderMap(F);r()}function k(){if(!E){E=!0;var a=v.getTimedOutBidders();x.emit(H,a)}}function r(a){var b=Object.keys(F).map(function(a){return F[a]});typeof a===p&&b.sort(a);l.callBids(b)}function t(a){var b={};return a&&0!==a.length&&(a.sort(function(a,b){return b.cpm-a.cpm}),b=a[0]),b.bid}function u(a,b){var e=d(b);K[a]?f.extend(K[a],e):K[a]=e;f._each(K[a],function(a,e){b.setTargeting(e,"")});for(var c in e)if(e.hasOwnProperty(c))try{f.logMessage("Attempting to set key value for slot: "+
b.getSlotElementId()+" key: "+c+" value: "+encodeURIComponent(e[c])),b.setTargeting(c,e[c])}catch(g){f.logMessage("Problem setting key value pairs in slot: "+g.message)}}function m(a){var b=[],e="",c=[],d={};if(a&&a[0]&&a[0].adUnitCode){e=a[0]&&a[0].adUnitCode;B[e]={};for(var g=0;g<a.length;g++){var l=a[g],d={};l&&(d=JSON.stringify(l),d=JSON.parse(d),delete d.pbLg,delete d.pbMg,delete d.pbHg);l.alwaysUseBid&&d.adserverTargeting?B[d.adUnitCode]=f.extend(B[d.adUnitCode],d.adserverTargeting):l.cpm&&
0<l.cpm&&c.push({cpm:l.cpm,bid:l});b.push(d)}}e&&0!==c.length&&(a=t(c).adserverTargeting,B[e]=f.extend(B[e],a));return b}function g(){v.clearAllBidResponses();F={};C=[];B={};E=!1}function d(a){var b=null;return a&&(b=c.getAdserverTargetingForAdUnitCode(a.getSlotElementId()),b||(b=c.getAdserverTargetingForAdUnitCode(a.getAdUnitPath()))),b}window.pbjs=window.pbjs||{};window.pbjs.que=window.pbjs.que||[];var c=window.pbjs,e=a("./constants.json"),f=a("./utils.js"),v=a("./bidmanager.js"),l=a("./adaptermanager"),
q=a("./bidfactory"),w=a("./adloader"),y=a("./ga"),x=a("./events"),p="function",z="undefined",A=e.EVENTS.BID_WON,H=e.EVENTS.BID_TIMEOUT,L=[],C=[],F={},B={},K={},E=!1;c.bidderTimeout=c.bidderTimeout||3E3;c.logging=c.logging||!1;c.libLoaded=!0;c.adUnits=c.adUnits||[];c.que.push=function(a){if(typeof a===p)try{a.call()}catch(b){f.logError("Error processing command :"+b.message)}else f.logError("Commands written into pbjs.que.push must wrapped in a function")};c.getAdserverTargetingForAdUnitCodeStr=function(a){if(a)return a=
c.getAdserverTargetingForAdUnitCode(a),f.transformAdServerTargetingObj(a);f.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")};c.getAdserverTargetingForAdUnitCode=function(a){return c.getBidResponses(a),a?B[a]:B};c.getAdserverTargeting=function(){return c.getAdserverTargetingForAdUnitCode()};c.getBidResponses=function(a){var b={},e=[],c={};if(a)b=a?v.pbBidResponseByPlacement[a]:v.pbBidResponseByPlacement,e=[],b&&b.bids&&(e=m(b.bids)),c={bids:e};else{var b=v.pbBidResponseByPlacement,
f;for(f in b)b.hasOwnProperty(f)&&(b&&b[f]&&b[f].bids&&(e=m(b[f].bids)),c[f]={bids:e})}return c};c.getBidResponsesForAdUnitCode=function(a){return c.getBidResponses(a)};c.setTargetingForAdUnitsGPTAsync=function(a){if(!window.googletag||!f.isFn(window.googletag.pubads)||!f.isFn(window.googletag.pubads().getSlots))return void f.logError("window.googletag is not defined on the page");k();var b=a;"string"===typeof a?b=[a]:"object"===typeof a&&(b=a);a=0;if(b)for(a=0;a<b.length;a++)for(var e=b[a],c=window.googletag.pubads().getSlots(),
d=0;d<c.length;d++)c[d].getSlotElementId()!==e&&c[d].getAdUnitPath()!==e||u(e,c[d]);else for(c=window.googletag.pubads().getSlots(),a=0;a<c.length;a++)(b=c[a].getSlotElementId())&&u(b,c[a])};c.setTargetingForGPTAsync=function(a){c.setTargetingForAdUnitsGPTAsync(a)};c.allBidsAvailable=function(){return v.allBidsBack()};c.renderAd=function(a,b){if(f.logMessage("Calling renderAd with adId :"+b),a&&b)try{var e=v._adResponsesByBidderId[b];if(e){x.emit(A,e);var c=e.height,d=e.width,g=e.adUrl,l=e.ad;l?(a.write(l),
a.close(),a.defaultView&&a.defaultView.frameElement&&(a.defaultView.frameElement.width=d,a.defaultView.frameElement.height=c)):g?(a.write('<IFRAME SRC="'+g+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="'+d+'" HEIGHT="'+c+'"></IFRAME>'),a.close(),a.defaultView&&a.defaultView.frameElement&&(a.defaultView.frameElement.width=d,a.defaultView.frameElement.height=c)):f.logError("Error trying to write ad. No ad for bid response id: "+
b)}else f.logError("Error trying to write ad. Cannot find ad by given id : "+b)}catch(h){f.logError("Error trying to write ad Id :"+b+" to the page:"+h.message)}else f.logError("Error trying to write ad Id :"+b+" to the page. Missing document or adId")};c.requestBidsForAdUnit=function(a){g();h(a)};c.requestBidsForAdUnits=function(a){if(!a||a.constructor!==Array)return void f.logError("requestBidsForAdUnits must pass an array of adUnits");g();var b=c.adUnits.slice(0);c.adUnits=a;h();c.adUnits=b};c.removeAdUnit=
function(a){if(a)for(var b=0;b<c.adUnits.length;b++)c.adUnits[b].code===a&&c.adUnits.splice(b,1)};c.requestBids=function(a){if(a){var b=a.adUnitCodes,e=a.adUnits,d=a.timeout;a=a.bidsBackHandler;var l=c.adUnits.slice(0);typeof a===p&&v.addOneTimeCallback(a);b&&f.isArray(b)?(g(),h(d,b)):(e&&f.isArray(e)?(g(),c.adUnits=e):g(),h(d));c.adUnits=l}else g(),h(void 0)};c.addAdUnits=function(a){f.isArray(a)?c.adUnits.push.apply(c.adUnits,a):"object"===typeof a&&c.adUnits.push(a)};c.addCallback=function(a,b){var e=
null;return a&&b&&typeof b===p?(e=f.getUniqueIdentifierStr,v.addCallback(e,b,a),e):(f.logError("error registering callback. Check method signature"),e)};c.removeCallback=function(a){};c.registerBidAdapter=function(a,b){try{l.registerBidAdapter(a(),b)}catch(e){f.logError("Error registering bidder adapter : "+e.message)}};c.bidsAvailableForAdapter=function(a){for(var b=F[a].bids,e=0;e<b.length;e++){var c=b[e].placementCode,f=v.pbBidResponseByPlacement[c],d=q.createBid(1);d.bidderCode=a;d.adUnitCode=
c;d.bidder=a;f.bids.push(d);f.bidsReceivedCount++;v.pbBidResponseByPlacement[c]=f}v.increaseBidResponseReceivedCount(a)};c.createBid=function(a){return q.createBid(a)};c.addBidResponse=function(a,b){v.addBidResponse(a,b)};c.loadScript=function(a,b){w.loadScript(a,b)};c.enableAnalytics=function(a){if(!a)return void f.logError("pbjs.enableAnalytics should be called with option {}","prebid.js");if("ga"===a.provider)try{y.enableAnalytics("undefined"==typeof a.options?{}:a.options)}catch(b){f.logError("Error calling GA: ",
"prebid.js",b)}else"other_provider"===a.provider};c.sendTimeoutEvent=function(){k()};c.aliasBidder=function(a,b){a&&b?l.aliasBidAdapter(a,b):f.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")};(function(){for(var a=0;a<c.que.length;a++)if(typeof c.que[a].called===z)try{c.que[a].call(),c.que[a].called=!0}catch(b){f.logError("Error processing command :","prebid.js",b)}})()},{"./adaptermanager":1,"./adloader":13,"./bidfactory":14,"./bidmanager.js":15,"./constants.json":16,
"./events":17,"./ga":19,"./utils.js":20}],19:[function(a,n,b){function h(){if(y&&"function"==typeof window[w]){for(var a=0;a<q.length;a++)q[a].call();q.push=function(a){a.call()};y=!1}d.logMessage("event count sent to GA: "+p)}function k(a){return a?Math.floor(100*a):0}function r(a){a&&a.bidderCode&&q.push(function(){p++;window[w]("send","event",x,"Requests",a.bidderCode,1,l)});h()}function t(a){a&&a.bidderCode&&q.push(function(){var b=k(a.cpm),e=a.bidderCode;if("undefined"!=typeof a.timeToRespond&&
z){p++;var c;c=a.timeToRespond;var f;c=(0<=c&&200>c?f="0-200ms":200<=c&&300>c?f="200-300ms":300<=c&&400>c?f="300-400ms":400<=c&&500>c?f="400-500ms":500<=c&&600>c?f="500-600ms":600<=c&&800>c?f="600-800ms":800<=c&&1E3>c?f="800-1000ms":1E3<=c&&1200>c?f="1000-1200ms":1200<=c&&1500>c?f="1200-1500ms":1500<=c&&2E3>c?f="1500-2000ms":2E3<=c&&(f="2000ms above"),f);window[w]("send","event","Prebid.js Load Time Distribution",c,e,1,l)}if(0<a.cpm){p+=2;f=a.cpm;var d;f=(0<=f&&.5>f?d="$0-0.5":.5<=f&&1>f?d="$0.5-1":
1<=f&&1.5>f?d="$1-1.5":1.5<=f&&2>f?d="$1.5-2":2<=f&&2.5>f?d="$2-2.5":2.5<=f&&3>f?d="$2.5-3":3<=f&&4>f?d="$3-4":4<=f&&6>f?d="$4-6":6<=f&&8>f?d="$6-8":8<=f&&(d="$8 above"),d);z&&(p++,window[w]("send","event","Prebid.js CPM Distribution",f,e,1,l));window[w]("send","event",x,"Bids",e,b,l);window[w]("send","event",x,"Bid Load Time",e,a.timeToRespond,l)}});h()}function u(a){a&&a.bidder&&q.push(function(){d._each(A,function(b){a.bidder===b&&(p++,window[w]("send","event",x,"Timeouts",b,a.timeToRespond,l))})});
h()}function m(a){var b=k(a.cpm);q.push(function(){p++;window[w]("send","event",x,"Wins",a.bidderCode,b,l)});h()}var g=a("./events"),d=a("./utils");a=a("./constants.json");var c=a.EVENTS.BID_REQUESTED,e=a.EVENTS.BID_TIMEOUT,f=a.EVENTS.BID_RESPONSE,v=a.EVENTS.BID_WON,l={nonInteraction:!0},q=[],w=null,y=!0,x="Prebid.js Bids",p=0,z=!1,A=[];b.enableAnalytics=function(a){w="undefined"!=typeof a.global?a.global:"ga";"undefined"!=typeof a.enableDistribution&&(z=a.enableDistribution);var b=null;a=g.getEvents();
d._each(a,function(a){var d=a.args;a&&(a.eventType===c?(b=d[0],r(b)):a.eventType===f?(b=d[1],t(b)):a.eventType===e?A=d[0]:a.eventType===v&&(b=d[0],m(b)))});g.on(c,function(a){r(a)});g.on(f,function(a,b){t(b);u(b)});g.on(e,function(a){A=a});g.on(v,function(a){m(a)})}},{"./constants.json":16,"./events":17,"./utils":20}],20:[function(a,n,b){function h(){return g()+Math.random().toString(16).substr(2)}function k(){return window.console&&window.console.log}var r=a("./constants.json"),t=!1,u=Object.prototype.toString,
m=Object.prototype.hasOwnProperty;Array.prototype.slice;b.replaceTokenInString=function(a,b,c){return this._each(b,function(b,f){b=void 0===b?"":b;var d=c+f.toUpperCase()+c;a=a.replace(new RegExp(d,"g"),b)}),a};var g=function(){var a=0;return function(){return a++,a}}();b.getUniqueIdentifierStr=h;b.getBidIdParamater=function(a,b){return b&&b[a]?b[a]:""};b.tryAppendQueryString=function(a,b,c){return c?a+(b+"="+encodeURIComponent(c)+"&"):a};b.parseQueryStringParameters=function(a){var b="",c;for(c in a)a.hasOwnProperty(c)&&
(b+=c+"="+encodeURIComponent(a[c])+"&");return b};b.transformAdServerTargetingObj=function(a){var b="";if(!a)return"";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+encodeURIComponent(a[c])+"&");return b};b.extend=function(a,b){return a=a||{},this._each(b,function(c,d){a[d]="object"===typeof b[d]?this.extend(a[d],b[d]):b[d]}),a};b.parseSizesInput=function(a){var b,c=[];if("string"===typeof a){a=a.split(",");var d=/^(\d)+x(\d)+$/i;if(a)for(var g in a){var h=a,n=g;(h.hasOwnProperty?h.hasOwnProperty(n):
typeof h[n]!==UNDEFINED&&h.constructor.prototype[n]!==h[n])&&a[g].match(d)&&c.push(a[g])}}else if("object"===typeof a&&(g=a.length,0<g))if(2===g&&"number"===typeof a[0]&&"number"===typeof a[1])c.push(this.parseGPTSingleSizeArray(a));else for(d=0;g>d;d++)c.push(this.parseGPTSingleSizeArray(a[d]));g=c.length;if(0<g&&(b="size="+c[0],1<g)){b+="&promo_sizes=";for(a=1;g>a;a++)b+=c[a]+=",";b&&","===b.charAt(b.length-1)&&(b=b.slice(0,b.length-1))}return b};b.parseGPTSingleSizeArray=function(a){return!this.isArray(a)||
2!==a.length||isNaN(a[0])||isNaN(a[1])?void 0:a[0]+"x"+a[1]};b.getTopWindowUrl=function(){try{return window.top.location.href}catch(a){return window.location.href}};b.logMessage=function(a){c()&&k()&&console.log("MESSAGE: "+a)};b.hasConsoleLogger=k;var d=function(a){return a?window.console.error?"error":"log":""}(k()),c=function(){if(!1===pbjs.logging&&!1===t){var a=pbjs,b;b=(new RegExp("[\\?&]"+r.DEBUG_MODE+"=([^&#]*)")).exec(window.location.search);b=null===b?"":decodeURIComponent(b[1].replace(/\+/g,
" "));a.logging="TRUE"===b.toUpperCase();t=!0}return pbjs.logging?!0:!1};b.debugTurnedOn=c;b.logError=function(a,b,g){b=b||"ERROR";c()&&k()&&console[d].call(console,b+": "+a,g||"")};b.createInvisibleIframe=function(){var a=document.createElement("iframe");return a.id=h(),a.height=0,a.width=0,a.border="0px",a.hspace="0",a.vspace="0",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.scrolling="no",a.frameBorder="0",a.src="about:self",a.style="display:none",a};b.getPriceBucketString=function(a){var b=
0,c={low:"",med:"",high:""};try{(b=parseFloat(a))&&(c.low=5<b?(5).toFixed(2):(Math.floor(2*a)/2).toFixed(2),c.med=20<b?(20).toFixed(2):(Math.floor(10*a)/10).toFixed(2),c.high=20<b?(20).toFixed(2):(Math.floor(100*a)/100).toFixed(2))}catch(d){this.logError("Exception parsing CPM :"+d.message)}return c};b.hasValidBidRequest=function(a,b,c){for(var d=0;d<b.length;d++){var g=!1;if(this._each(a,function(a,c){c===b[d]&&(g=!0)}),!g)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+
b,c),!1}return!0};b.addEventHandler=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)};b.isA=function(a,b){return u.call(a)==="[object "+b+"]"};b.isFn=function(a){return this.isA(a,"Function")};b.isStr=function(a){return this.isA(a,"String")};b.isArray=function(a){return this.isA(a,"Array")};b.isEmpty=function(a){if(!a)return!0;if(this.isArray(a)||this.isStr(a))return!(0<a.length);for(var b in a)if(m.call(a,b))return!1;return!0};b._each=function(a,
b){if(!this.isEmpty(a)){if(this.isFn(a.forEach))return a.forEach(b,this);var c=0,d=a.length;if(0<d)for(;d>c;c++)b(a[c],c,a);else for(c in a)m.call(a,c)&&b.call(this,a[c],c)}};b.contains=function(a,b){if(this.isEmpty(a))return!1;if(this.isFn(a.indexOf))return-1!==a.indexOf(b);for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};b._map=function(a,b){if(this.isEmpty(a))return[];if(this.isFn(a.map))return a.map(b);var c=[];return this._each(a,function(d,g){c.push(b(d,g,a))}),c}},{"./constants.json":16}]},
{},[18]);
var NSGPT=NSGPT||function(){var a=window,n={},b={prebidding:{appnexus:{"default":{placementId:6361870},homepage:{placementId:6361872},general:{placementId:6361871}}},adchannel:"",responsive:!0,gpttimeout:600,zdbburl:"//ns.zdbb.net/nsgpt.jsonp",libraries:["http://native.sharethrough.com/assets/tag.js"],forceReflow:!1,adpath:"/4585/ns.dreamincode/",oop:["skin","stitials"],autostart:!0,adrecovery:!1,zdbeaconurl:"//track.netshelter.net/async/js/sites/dreamincode.net-async.js",atfthreshold:700,maxads:!1},
h={leaderboard:{size:[728,90],pos:"atf",collapse:!1,refreshonviewable:45,sizemap:{"700x200":[728,90],"0x0":[300,250]}},billboard:{size:[[970,250],[970,180],[970,90],[997,123],[728,90]],pos:"atf",collapse:!0,refreshonviewable:45,sizemap:{"997x200":[[997,123],[970,250],[970,180],[970,90],[728,90]],"970x200":[[970,250],[970,180],[970,90],[728,90]],"700x200":[728,90],"0x0":[[320,50],[300,250]]}},rectangle:{size:[300,250],collapse:!1,sizemap:null,refreshonviewable:45},largerectangle:{size:[[336,280],[300,
250]],collapse:!1,sizemap:null,refreshonviewable:45},halfpage:{size:[[300,600],[300,250]],collapse:!1,sizemap:null,refreshonviewable:45},portrait:{size:[[300,600],[300,1050],[300,250]],collapse:!1,sizemap:null,refreshonviewable:45},skyscraper:{size:[[120,600],[160,600]],collapse:!1,sizemap:null,refreshonviewable:45},footer:{size:[[970,90],[728,90],[997,123],[970,180]],pos:"btf",collapse:!1,refreshonviewable:45,sizemap:{"970x200":[[970,90],[728,90],[997,123]],"700x200":[[728,90]],"0x0":[[320,50],[300,
250]]}},"native":{size:[1,1],collapse:!0,sizemap:null,refreshonviewable:!1}},k=!1,r=[],t=b.adpath&&-1!=b.adpath.indexOf("/4585/zd.")?{cmn:"zd"}:{},u="https:"==a.location.protocol?"https:":"http:",m=window!=window.top&&window.frameElement?!0:!1,g=!1,d=null,c=0,e=0,f=function(){return"xxxxxxxxxxxyxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},v=function(a){return a?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""},l=function(a,b){if(k&&"undefined"!==
typeof console&&console.log)try{b?console.log("[NSGPT]["+(b.id?b.id:b)+"]: "+a):console.log("[NSGPT]: "+a)}catch(c){}},q=function(b){b&&setTimeout(function(){try{var c=b.style.display;b.style.display="none";b.style.display=c;a.dispatchEvent(new Event("resize"))}catch(d){}},2E3)},w=function(a){return JSON.stringify(a)},y=function(b,c){if(!a.googletag||!a.googletag.apiReady||b)if(!a.document.getElementById("ns-bts-g")||b){var d=a.document.createElement("script");d.type="text/javascript";d.async="true";
d.id="ns-bts-g";d.src=u+"//www.googletagservices.com/tag/js/gpt.js";d.onerror=function(){a.document.getElementById("ns-bts-g1")||(d.id="ns-bts-g1");NSGPT.loadGPT()};var e=a.document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e);"undefined"!==typeof pbjs&&(pbjs.initAdserverSet=!0)}},x=function(c,d){if(b.zdbeaconurl&&!m&&!a.document.getElementById("ns-bts-zdt"))if(a.document.body){var e=document.createElement("script");e.type="text/javascript";e.async="true";e.id="ns-bts-zdt";var f=
u+b.zdbeaconurl;e.src=d&&window._sp_&&window._sp_.getSafeUri?window._sp_.getSafeUri(f):f;e.onerror=function(){a.document.getElementById("ns-bts-zdt1")||(e.id="ns-bts-zdt1");NSGPT.loadZDT()};try{a.document.body.appendChild(e)}catch(g){setTimeout(x,50)}}else setTimeout(x,50)},p=function(c,d){if(!n||!n.zdid||c){if((c||d)&&a.document.getElementById("ns-bts-zdbb")){var e=a.document.getElementById("ns-bts-zdbb");e.id="ns-bts-zdbb-old";e.parentNode.removeChild(e)}if(m&&parent.NSGPT&&parent.NSGPT.zdbbData&&
parent.NSGPT.zdbbData.zdid)n=parent.NSGPT.zdbbData;else if(!a.document.getElementById("ns-bts-zdbb")){e=document.createElement("script");e.type="text/javascript";e.async="true";e.id="ns-bts-zdbb";var f=u+b.zdbburl+"?u="+encodeURIComponent(a.parent.location.href);e.src=d&&window._sp_&&window._sp_.getSafeUri?window._sp_.getSafeUri(f):f;e.onerror=function(){a.document.getElementById("ns-bts-zdbb1")||(e.id="ns-bts-zdbb1");NSGPT.loadZDBB()};f=a.document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,
f)}}},z=function(b,c){if(b){var d="nsgpt-ldr-"+b.replace(/\W+/g," ");if(!(a.document.getElementById(d)||a.document&&a.document.querySelector&&a.document.querySelector('[src*="'+b+'"]'))){var e=a.document.createElement("script");e.type="text/javascript";e.async="true";e.id=d;-1==b.indexOf("://")&&(b=u+b);e.src=b;d=a.document.getElementsByTagName("script")[0];d.parentNode.insertBefore(e,d)}}},A=function(){try{for(var b=document.getElementsByTagName("script"),c=b.length,d=0;d<c;d++)b[d]&&b[d].src&&-1!=
b[d].src.indexOf("partner.googleadservices.com/gpt/pubads_impl")&&(b[d].onload=null,b[d].onerror=null,b[d].parentNode.removeChild(b[d]))}catch(e){l("GPT pubads unload warning - "+e)}a.googletag&&(a.googletag.pubads&&(a.googletag.pubads().disableInitialLoad(),a.googletag.pubads().clear(),a.googletag.pubads().clearCategoryExclusions(),a.googletag.pubads().clearTagForChildDirectedTreatment()),a.googletag.impl&&(a.googletag.impl=null),a.googletag.pubads&&(a.googletag.pubads=null),a.googletag.defineSlot=
null,a.googletag.defineOutOfPageSlot=null,a.googletag.enableServices=null,a.google_persistent_state&&(a.google_persistent_state=null));a.googletag=null;a.googletag={};a.googletag.cmd=[];c=J();r=[];for(d=0;d<c.length;d++)if(b=c[d])l("Resetting adslot",b),!b._gptSlot&&b.parentNode&&b.parentNode._gptSlot&&(b=b.parentNode),b._gptSlot&&(b._gptSlot=null),b._nsgptWatchdog&&(clearTimeout(b._nsgptWatchdog),b._nsgptWatchdog=null),b._refreshOnViewableTimeout&&(clearTimeout(b._refreshOnViewableTimeout),b._refreshOnViewableTimeout=
null),b._refreshOnRenderedTimeout&&(clearTimeout(b._refreshOnRenderedTimeout),b._refreshOnRenderedTimeout=null),b._refreshOnViewable&&(b._refreshOnViewable=null,b._refreshOnRendered=null);for(var f=document.getElementsByTagName("iframe"),c=f.length,d=0;d<c;d++)(b=f[d])&&b.id&&0==b.id.indexOf("google_ads_iframe_")&&(0==b.parentNode.id.indexOf("google_ads_iframe_")&&(b=b.parentNode),b.parentNode.removeChild(b));f=document.getElementsByTagName("iframe");c=f.length;for(d=0;d<c;d++)(b=f[d])&&b.id&&0==
b.id.indexOf("google_ads_iframe_")&&(0==b.parentNode.id.indexOf("google_ads_iframe_")&&(b=b.parentNode),b.parentNode.removeChild(b))},H=function(){if(b.adrecovery&&b.adrecovery.indexOf&&-1==b.adrecovery.indexOf("//")&&!a._sp_){a.sp_cid="kpwbBOFeVRnEVFP";var c=a.document.createElement("script");c.type="text/javascript";c.async="async";c.id="ns-bts-sp";c.src=u+b.adrecovery;c.onerror=function(){a.document.getElementById("ns-bts-sp1")||(c.id="ns-bts-sp1");NSGPT.bootstrap()};var d=a.document.getElementsByTagName("script")[0];
d.parentNode.insertBefore(c,d)}},L=function(){H();a&&a.document&&a.document.addEventListener&&a.document.addEventListener("sp.blocking",C);a._sp_&&a._sp_.checkState&&a._sp_.checkState(function(a){a&&C()})},C=function(b){1<e||(e=1,p(!1,!0),a.googletag&&a.googletag.apiReady&&a.googletag.enableServices(),e=2,F())},F=function(){if(!(2<e)){1<c&&(c=1);if(b.adchannel&&"homepage"!=b.adchannel&&"general"!=b.adchannel||!a.googletag||!a.googletag.apiReady)b.adchannel||(b.adchannel="homepagedoor");else for(var d=
a.googletag.pubads().getSlots(),f=0;f<d.length;f++)if(d[f]){var g=d[f].getAdUnitPath();if(-1!=g.indexOf(b.adpath))try{if(b.adchannel=g.split("/")[g.split("/").length-1].split("_")[0],b.adchannel)break}catch(h){}d[f].getTargeting("template")&&(t.template=d[f].getTargeting("template"))}A();a._sp_.dfp.loadGPT();e=3;setTimeout(function(){a.googletag.cmd.push(function(){window.NSGPT.setupAdslots();a.googletag.pubads().enableAsyncRendering();a.googletag.pubads().enableSingleRequest();a.googletag.enableServices()});
a.googletag.cmd.push(B)},10);return!0}},B=function(){3>e?F():5<e||(a.googletag&&a.googletag.pubadsReady&&n&&n.zdid?(window.NSGPT.renderAds(),e+=1):(a.googletag&&a.googletag.apiReady&&a.googletag.enableServices(),setTimeout(B,20)))},K=function(){if(!b.prebidding)return!1;pbjs.bidderSettings={standard:{alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",val:function(a){return(Math.floor(20*Math.min(a.cpm,
20))/20).toFixed(2)}},{key:"hb_size",val:function(a){return a.size}},{key:"hb_cpm",val:function(a){return a.cpm}}]}};pbjs.que.push(function(){var c=[],d=b.adchannel||"general",e;for(e in b.prebidding){var g=d;"undefined"===typeof b.prebidding[e][g]&&(g="default");c.push({bidder:e,params:b.prebidding[e][g]})}pbjs.addAdUnits([{sizes:h.billboard.size,code:"nsgpt-billboard-1",bids:c},{sizes:h.leaderboard.size,code:"nsgpt-leaderboard-1",bids:c},{sizes:h.halfpage.size,code:"nsgpt-halfpage-1",bids:c},{sizes:h.rectangle.size,
code:"nsgpt-rectangle-1",bids:c}]);pbjs.requestBids({bidsBackHandler:function(b){try{for(var c in b){var d=f();if(b.hasOwnProperty(c))for(var e=0;e<b[c].bids.length;e++)try{var g=b[c].bids[e],Y=new Image(1,1),U="NA",h=0;0!=g.cpm&&(h=g.adserverTargeting.hb_pb,U=g.size);Y.src=u+"//zdbb.net/l/EBd3N5GSEeWA3CIAC7Ppng?bidder="+g.bidderCode+"&provider=prebid&site="+a.location.hostname+"&cpm="+g.cpm+"&bsid="+d+"&bid="+h+"&adid="+g.adId+"&adunit="+g.adUnitCode+"&size="+U+"&ttr="+g.timeToRespond+"&status="+
encodeURIComponent(g.statusMessage)}catch(D){l("prebidder ZDBBN error: "+D)}}}catch(D){l("prebidder error: "+D)}}})})},E=function(a,b,c){var d=a.dataset&&"undefined"!==typeof a.dataset[b]?a.dataset[b]:a.getAttribute("data-"+b);if(null===d||"null"===d||"undefined"===d)if(c)try{var e=I(a),d=h[e][b];"undefined"===typeof d&&(d=null);return d}catch(f){return null}else return null;d&&d.toLowerCase&&"true"===d.toLowerCase()?d=!0:d&&d.toLowerCase&&"false"===d.toLowerCase()?d=!1:d&&d.indexOf&&(-1!=d.indexOf("{")||
-1!=d.indexOf("["))&&(d="undefined"!==typeof JSON?JSON.parse(d):eval("("+d+")"));return d},I=function(a){if(a._nsSlotName)return a._nsSlotName;var b=a.dataset&&a.ns?a.dataset.ns:a.getAttribute("data-ns");if(!b)return l("Missing NS param",a),"";b=v(b).toLowerCase();if("mediumrectangle"==b||"mrec"==b)b="rectangle";"adsense"==b&&(b="largerectangle");"hpu"==b&&(b="halfpage");"outofpage"==b&&(b="oop");"sky"==b&&(b="skyscraper");"sharethrough"==b&&(b="native");"lb"==b&&(b="leaderboard");return a._nsSlotName=
b},M=function(a){var c=a?E(a,"channel"):b.adchannel;null===c&&(c=b.adchannel);c||(c="");b.adpath&&0===b.adpath.indexOf("/4585/")||(b.adpath="/4585/");"/"!=b.adpath.substr(b.adpath.length-1)&&(b.adpath+="/");if(a&&-1!=b.adpath.indexOf("/4585/zd.")){var d=a.id;a.getAttribute&&a.getAttribute("data-pos")?c=c+"_"+a.getAttribute("data-pos").toUpperCase():-1==d.indexOf("Top")&&-1==d.indexOf("ad401-")&&-1==d.indexOf("ad403-")||-1!=c.indexOf("_ATF")?-1==d.indexOf("Bottom")&&-1==d.indexOf("ad414-")&&-1==d.indexOf("ad415-")||
-1!=c.indexOf("_BTF")?-1!=d.indexOf("Content")&&-1==c.indexOf("_ATF2")?(c+="_ATF2",a.setAttribute("data-pos","atf")):-1!=d.indexOf("Native")&&-1==c.indexOf("_native")&&(c+="_native"):(c+="_BTF",a.setAttribute("data-pos","btf")):(c+="_ATF",a.setAttribute("data-pos","atf"))}return b.adpath+c},X=function(a){var b=E(a,"size",!0);a=[];if("string"===typeof b){for(var b=-1!=b.indexOf(",")?b.split(","):b.split(";"),c=0;c<b.length;c++){var d=b[c].split("x");a.push([parseInt(d[0]),parseInt(d[1])])}if(1==a.length)return a[0]}else b&&
(a=b);return a},J=function(){var a=[];if(document.querySelectorAll){var b=document.querySelectorAll("div[data-ns]");if(!b||!b.length)return a;for(var c=0;c<b.length;c++)a.push(b[c])}else if(window.jQuery)a=window.jQuery("div[data-ns]").get();else for(b=document.getElementsByTagName("div"),c=0;c<b.length;c++)b[c].getAttribute("data-ns")&&a.push(b[c]);return a.indexOf||a.length?a:[]},N=function(){return"undefined"!==typeof a.document.hidden?a.document.hidden.toString():a.document.hasFocus()?"false":
"true"},T=function(){b.gptsyncmode?a.googletag.pubads().enableSyncRendering():(a.googletag.pubads().enableAsyncRendering(),a.googletag.pubads().enableSingleRequest());googletag.pubads().setTargeting("ctx","unprocessed").setTargeting("ipx","unprocessed");k&&googletag.pubads().setTargeting("debug","true");for(var c in n)null!==n[c]&&a.googletag.pubads().setTargeting(c,n[c]);if(a.location.search&&-1!=a.location.search.indexOf("special")){var d=a.location.search.match(/(\?|&)special=([^&]*)/);a.googletag.pubads().setTargeting("special",
d?d[2]:"")}if(t)for(c in t)null!==t[c]&&a.googletag.pubads().setTargeting(c,t[c]);"undefined"!==typeof pbjs&&pbjs.libLoaded&&(l("Prebidder: setup page targeting"),pbjs.setTargetingForGPTAsync())},O=function(a,c,d){!c&&a._gptSlot&&(c=a._gptSlot);var e=I(a);try{if(e&&h[e]&&h[e].targeting)for(var f in h[e].targeting)h[e].targeting[f]&&(c=c.setTargeting(f,h[e].targeting[f]))}catch(g){}if(e=E(a,"targeting",!1))for(f in e)e[f]&&(c=c.setTargeting(f,e[f]));if(e=E(a,"sharethrough",!1))c=c.setTargeting("sharethrough",
"true"),c=c.setTargeting("strnativekey",e),z("//native.sharethrough.com/assets/tag.js");if(d)for(f in d)d[f]&&(c=c.setTargeting(f,d[f]));c=c.setTargeting("OOF",N());if(a&&-1==a.id.indexOf("nsgpt-oop-"))try{var n;if(a._gptPos)n=a._gptPos;else{var k=E(a,"pos",!0);if("string"===typeof k&&k)n=k;else{var m=a.getBoundingClientRect(),p=document.body,r=document.documentElement,q=Math.round(m.top+(window.pageYOffset||r.scrollTop||p.scrollTop)-(r.clientTop||p.clientTop||0));try{n=q<b.atfthreshold||q<screen.height/
2?"atf":"btf"}catch(g){n=null}}}d=n;"string"===typeof d&&d&&(a._gptPos=d,a.setAttribute("data-pos",d),c=c.setTargeting("ppos",d.toLowerCase()).setTargeting("pos",d.toLowerCase()))}catch(g){l(g,a)}return c},P=function(d,f){a.googletag.pubadsReady&&l("MAJOR WARNING: AdSlot setup started after gpt enableServices() invoked. Please reviese your non-netshelter GPT tags");if(!f){if(4<c||a.googletag.pubadsReady)return;if(a.document.readyState&&"loading"==a.document.readyState&&!g)return l("Waiting for DOM or timeout before setting up slots"),
!1;if(!n||!n.zdid)return l("Waiting for ZDBB data before setting up slots"),!1}d||(d=J());if(2>c){if(!e&&b.oop)for(var D=0;D<b.oop.length;D++){var k=b.oop[D]?b.oop[D]:D+1,m="nsgpt-oop-"+k;if(!document.getElementById(m)){var p=a.document.createElement("div");p.id=m;p.className="nsgpt-oop";p.style.position="absolute";p.style.left="0px";p.style.bottom="0px";p.dataset.ns="oop";p.setAttribute("data-ns","oop");a.document.body.appendChild(p);var q=a.googletag.defineOutOfPageSlot(M(),m).addService(googletag.pubads()),
q=O(p,q,{OOP_type:k});p._gptSlot=q;r.push(p._gptSlot);l("Setup OOP adslot "+m,p)}}googletag.pubads().addEventListener("slotRenderEnded",Z);googletag.pubads().addEventListener("impressionViewable",V);c=2}for(D=0;D<d.length;D++)if(k=d[D],!k._gptSlot&&(m=I(k))){if(!k.id){p=k;a:{for(var q="nsgpt-"+m,t=1;10>t;t++){var u=q+"-"+t;if(!a.document.getElementById(u)){q=u;break a}}q=void 0}p.id=q}if(p="undefined"!==typeof h[m]?h[m]:null){q=a.googletag.defineSlot(M(k),X(k),k.id);try{if(b.responsive){var v;var x=
E(k,"sizemap",!0);if(x){var w=a.googletag.sizeMapping(),t=void 0;for(t in x)var z=t.toLowerCase().split("x"),w=w.addSize([parseInt(z[0]),parseInt(z[1])],x[t]);v=w?w.build():null}else v=null;v&&(q=q.defineSizeMapping(v))}}catch(y){l(y,k)}try{var A=E(k,"collapse",!0);null!==A&&(q=q.setCollapseEmptyDiv(A))}catch(y){l(y,k)}O(k,q,{rfr:"false"});k._refreshOnRendered=null;k._refreshOnViewable=null;try{var B="undefined"!==typeof p.refresh?p.refresh:null;p&&k._gptPos&&"atf"==k._gptPos&&"undefined"!==typeof p.refreshatf&&
(B=p.refreshatf);B&&"string"===typeof B&&(B=parseInt(B));B&&(k._refreshOnRendered=1E3*B)}catch(y){l(y,k)}try{var C=E(k,"refreshonviewable",!0);C&&parseInt(C)&&(k._refreshOnViewable=1E3*parseInt(C))}catch(y){l(y,k)}k._gptSlot=q.addService(googletag.pubads());l("Setup adslot "+m+" - RefreshOnViewable: "+k._refreshOnViewable+" - Refresh On Rendered: "+k._refreshOnRendered,k);r.push(k._gptSlot)}else l("Unkown config: "+m)}3>c&&(T(),c=3);a.googletag.pubadsReady||a.googletag.enableServices()},Q=function(d){if(a.document.readyState&&
"loading"==a.document.readyState&&!g)l("Waiting for DOM or timeout before rendering");else if(n&&n.zdid)if(!b.prebidding||"undefined"===typeof pbjs||pbjs.libLoaded&&pbjs.allBidsAvailable()){if(3>c||!r)try{P(null,!0)}catch(f){return l("slotsetup error: "+f),!1}if(!a.googletag.pubadsReady)try{b.gptsyncmode||(a.googletag.pubads().enableAsyncRendering(),a.googletag.pubads().enableSingleRequest()),a.googletag.enableServices()}catch(f){l("Warning while init rendering - "+f)}if(!d||!d.length)d=J();else if(d.id||
d.parentNode)d=[d];for(var h=0;h<d.length;h++){var k=d[h];if(k&&!k._gptRendered)if(!k._gptSlot&&k.parentNode&&k.parentNode._gptSlot&&(k=k.parentNode),k._gptSlot){var m=-1!=k.id.indexOf("nsgpt-oop-")?!0:!1;window.getComputedStyle(k);if(!e&&!m&&a.getComputedStyle){var p=a.getComputedStyle(k);if("none"===p.display||"hidden"===p.visibility){l("Render: skipping invisible element",k);continue}}e?l("Rendering adrecovered slot",k):l("Rendering adslot",k);try{a.googletag.display(k.id)}catch(f){l("GPT error while rendering: "+
f,k);continue}k._gptRendered=!0;e||m||k._nsgptWatchdog||(k._nsgptWatchdog=setTimeout(function(){l("NSGPT Watchdog forces a refresh for stale ad",k);NSGPT.refreshAds([k])},45E3))}else e||l("Render: missing gptslot in "+k.id)}c=5}else setTimeout(Q,200);else l("Waiting for ZDBB data before rendering")},G=function(b){g=!0;a.googletag.cmd.push(function(){P()});a.googletag.cmd.push(function(){Q()})},R=function(b,c){if(a.googletag.pubadsReady){if(!b)b=J();else if(b.id||b.parentNode)b=[b];c||(c=a.__ZDDMP&&
a.__ZDDMP.NewCorrelator?__ZDDMP.NewCorrelator():f());for(var d=[],g=0;g<b.length;g++){var h=b[g];if(h&&(!h._gptSlot&&h.parentNode&&h.parentNode._gptSlot&&(h=h.parentNode),h._gptSlot)){var k=h._gptSlot;k.clearTargeting();k=O(h,k,{zc:c,rfr:"true"});h._nsgptRendered=null;h._nsgptViewable=null;h._refreshOnViewableTimeout&&(clearTimeout(h._refreshOnViewableTimeout),h._refreshOnViewableTimeout=null);h._refreshOnRenderedTimeout&&(clearTimeout(h._refreshOnRenderedTimeout),h._refreshOnRenderedTimeout=null);
h._nsgptWatchdog&&(clearTimeout(h._nsgptWatchdog),h._nsgptWatchdog=null);e||(h._nsgptWatchdog=setTimeout(function(){l("NSGPT Watchdog force a refresh for stale ad",h);NSGPT.refreshAds([h])},45E3));d.push(k);l("Issue refresh command",h)}}d&&a.googletag.pubads().refresh(d)}},W=function(a){if(!a)a=J();else if(a.id||a.parentNode)a=[a];for(var b=0;b<a.length;b++){var c=a[b];c&&(!c._gptSlot&&c.parentNode&&c.parentNode._gptSlot&&(c=c.parentNode),c._gptSlot&&(c._refreshOnViewable=null,c._refreshOnRendered=
null,c._refreshOnViewableTimeout&&(clearTimeout(c._refreshOnViewableTimeout),c._refreshOnViewableTimeout=null),c._refreshOnRenderedTimeout&&(clearTimeout(c._refreshOnRenderedTimeout),c._refreshOnRenderedTimeout=null),c._nsgptWatchdog&&(clearTimeout(c._nsgptWatchdog),c._nsgptWatchdog=null),l("Refresh stopped",c)))}},V=function(b){var c=a.document.getElementById(b.slot.getSlotElementId());c&&!c._gptSlot&&c.nextSibling&&c.nextSibling._gptSlot&&(c=c.nextSibling);if(c&&c._gptSlot&&(c._nsgptViewable=Math.floor((new Date).getTime()),
c._nsgptRendered||(c._nsgptRendered=c.nsgptViewable),c._refreshOnViewable||c._refreshOnViewableOverride)){b=c._refreshOnViewableOverride?c._refreshOnViewableOverride:c._refreshOnViewable;var d=Math.floor(c._nsgptViewable-c._nsgptRendered);d>b?(l("Slot viewable after "+b+"ms threshold - refreshing immediately",c),R([c])):(d=Math.floor(b-d),c._refreshOnViewableTimeout=setTimeout(function(){NSGPT.refreshAds([c])},d),l("Slot viewable, but "+b+"ms threashold not hit yet - schedule a refresh in "+d+"ms",
c))}},Z=function(c){var d=a.document.getElementById(c.slot.getSlotElementId());d&&!d._gptSlot&&d.nextSibling&&d.nextSibling._gptSlot&&(d=d.nextSibling);if(d&&d._gptSlot){d._nsgptRendered=Math.floor((new Date).getTime());d._nsgptViewable=null;d._nsgptWatchdog&&(clearTimeout(d._nsgptWatchdog),d._nsgptWatchdog=null);if(d._refreshOnRendered){var e=c.isEmpty?2E3:d._refreshOnRendered;d._refreshOnRenderedTimeout=setTimeout(function(){NSGPT.refreshAds([d])},e);l("Slot rendered, set refresh timeout at "+e+
"ms",d)}else l("Slot Rendered",d);b.forceReflow&&(q(d),setTimeout(function(){q(d)},1E3));if(m&&window.frameElement&&c.size)try{window.frameElement.width=c.size[0],window.frameElement.height=c.size[1]}catch(f){}}},S=function(){if(!b.gptsyncmode)return!1;n&&n.zdid&&T();if(b.oop)for(var d=0;d<b.oop.length;d++){var e=b.oop[d]?b.oop[d]:d+1,f="nsgpt-oop-"+e;document.getElementById(f)||(a.googletag.defineOutOfPageSlot(M(),f).setTargeting("OOF",N()).setTargeting("OOP_type",e).addService(googletag.pubads()),
l("Setup Syncronous OOP adslot "+f))}c=3};return{adSlots:r,isIframe:m,zdbbData:n,config:b,init:function(e){if(m){b.oop=!1;try{parent&&parent.NSGPT&&parent.NSGPT.config&&(b.adchannel=parent.NSGPT.config.adchannel)}catch(f){}}d||(d=a.document.getElementById("nsgpt"));if(d){for(var g=["ns","channel"],h=0;h<g.length;h++){var p=g[h],q=d.dataset&&"undefined"!==typeof d.dataset[p]?d.dataset[p]:d.getAttribute("data-"+p);if(q){b.adchannel=v(q);l("init: adchannel override: "+r);break}}q=d.dataset&&"undefined"!==
typeof d.dataset.responsive?d.dataset.responsive:d.getAttribute("data-responsive");null!==q&&(b.responsive="true"==v(q).toLowerCase()?!0:!1);q=d.dataset&&"undefined"!==typeof d.dataset.oop?d.dataset.oop:d.getAttribute("data-oop");if(null!==q){var r=v(q).toLowerCase();l("init: OOP config override: "+r);b.oop="false"==r||"0"==r||""==r?[]:r.split(",")}}if(e&&!e.target){for(p in e)b[p]=e[p];e.w&&e.w.top&&(a=e.w)}!b.adchannel&&a.location&&(b.adchannel=a.location.pathname&&"/"==a.location.pathname?"homepage":
"general",l("init: adchannel autodetected: "+b.adchannel));!a.location.search||-1==a.location.search.indexOf("nsgptdebug")&&-1==a.location.search.indexOf("googfc")||(k=1);m&&parent.location.search&&(-1!=parent.location.search.indexOf("nsgptdebug")||-1!=parent.location.search.indexOf("googfc"))&&(k=1);x();if(b.gptsyncmode){if(!(1<c)){"undefined"!==typeof JSON&&"undefined"!==typeof JSON.stringify||document.write('<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/json2/20150503/json2.min.js">\x3c/script>');
try{!n.zdid&&parent&&parent.NSGPT&&(n=parent.NSGPT.zdbbData)}catch(f){}n&&n.zdid?S():document.write('<script type="text/javascript" src="'+b.zdbburl+"?u="+encodeURIComponent(a.parent.location.href)+'">\x3c/script>');c=2}}else NSGPT.bootstrap()},bootstrap:function(){p();b.autostart&&y();b.adrecovery&&L();if(b.libraries)for(var d=0;d<b.libraries.length;d++)z(b.libraries[d]);b.prebidding&&K();if(b.autostart&&!b.gptsyncmode&&(a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[],a.googletag.cmd.push(function(){a.googletag.pubads().enableAsyncRendering();
a.googletag.pubads().enableSingleRequest();b.gpttimeout&&setTimeout(G,b.gpttimeout)}),!(0<c))){c=1;d=a.document.readyState&&a.document.readyState?a.document.readyState:null;if("complete"===d)return G();"interactive"===d?G():d&&"loading"!==d||(a.jQuery?a.jQuery(G):a.document.addEventListener&&a.document.addEventListener("DOMContentLoaded",G,!1));if(a.addEventListener)a.addEventListener("load",G,!1);else{var e=a.onload;a.onload=function(){try{G()}catch(a){}e&&e()}}}},forceReflow:q,loadZDBB:p,initZDBB:function(c,
d){for(var e in c)n[e]=c[e];if(d)for(e in d)b[e]=d[e];if(b.gptsyncmode)return S();b.autostart&&(a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[],a.googletag.cmd.push(function(){window.NSGPT.renderAds()}))},loadZDT:x,startSP:F,renderSP:B,getAdSlots:J,setupAdslots:P,renderAds:Q,displayAds:G,refreshAds:R,stopRefresh:W,updateRefresh:function(a,b,c){if(!a)a=J();else if(a.id||a.parentNode)a=[a];if(!b&&!c)return W(a);for(var d=0;d<a.length;d++){var e=a[d];!e._gptSlot&&e.parentNode._gptSlot&&
(e=e.parentNode);if(b){e._refreshOnViewableTimeout&&(clearTimeout(e._refreshOnViewableTimeout),e._refreshOnViewableTimeout=null);if(e._nsgptViewable){var f=Math.floor((new Date).getTime())-e._nsgptViewable;f<b?R([e]):e._refreshOnViewableTimeout=setTimeout(function(){NSGPT.refreshAds([e])},Math.floor(b-f))}else e._refreshOnViewableOverride=b;l("New RefreshOnViewable ("+b+") set",e)}c&&(e._refreshOnRenderedTimeout&&(clearTimeout(e._refreshOnRenderedTimeout),e._refreshOnRenderedTimeout=null),e._refreshOnRenderedTimeout=
setTimeout(function(){NSGPT.refreshAds([e])},1E3*c),l("New RefreshOnViewable ("+c+") set",e))}},onViewable:V,onLoaded:function(a){},detectOOF:N,adserve:function(c,d,e,f){n&&n.zdid||document.write('<script type="text/javascript" src="'+b.zdbburl+"?u="+encodeURIComponent(a.parent.location.href)+'">\x3c/script>');var g=M(),k=h[c];c=w(k.size);var l=['.setTargeting("OOF", '+w(N())+")",'.setTargeting("rfr", "false")'];e&&(l.push('.setTargeting("pos", "'+e+'")'),l.push('.setTargeting("ppos", "'+e+'")'));
d=d?'.setClickUrl("'+d+'")':"";for(var m in n)null!==n[m]&&l.push('.setTargeting("'+m+'", '+w(n[m])+")");a.location.search&&-1!=a.location.search.indexOf("special")&&(e=a.location.search.match(/(\?|&)special=([^&]*)/),l.push('.setTargeting("special", "'+(e?e[2]:"")+'")'));if(k.targeting)for(m in k.targeting)null!==k.targeting[m]&&l.push('.setTargeting("'+m+'", '+w(k.targeting[m])+")");if(f)for(m in f)null!==f[m]&&l.push('.setTargeting("'+m+'", '+w(f[m])+")");k.sizemap&&a.document&&a.document.documentElement&&
a.document.documentElement.clientWidth&&(f=document.documentElement.clientWidth,m=-1!=a.location.hostname.indexOf("androidforums.com")?1330:1E3,f<m&&(c=700<f?w([728,90]):w([[300,250],[320,50]])));d='<center><script src="//www.googletagservices.com/tag/js/gpt.js">googletag.pubads().definePassback("'+g+'", '+c+")"+l.join("")+d+".display();\x3c/script></center>";document.write(d);return!0},setupSyncSlots:S,renderSyncSlots:function(){if(!b.oop||!b.gptsyncmode)return!1;for(var a=['<script type="text/javascript">googletag.enableServices();\x3c/script>'],
c=0;c<b.oop.length;c++){var d="nsgpt-oop-"+(b.oop[c]?b.oop[c]:c+1);document.getElementById(d)||(l("Render Syncronous OOP adslot "+d),a.push('<div id="'+d+'" style="position: absolute; left: 0px; bottom: 0px;"><script type="text/javascript">googletag.display("'+d+'")\x3c/script></div>'))}document.write(a.join(""))}}}();"undefined"!==typeof window._NSGPT?NSGPT.init(window._NSGPT):NSGPT.init();
